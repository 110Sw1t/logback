<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/2000/REC-xhtml1-20000126/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
<title>Logback FAQ</title>
<link rel="stylesheet" type="text/css" media="screen" href="css/site.css" />
</head>
<body>
	<script>
prefix='';	
</script>

<script src="templates/header.js"></script>
<div id="left">
  <script src="templates/left.js"></script>
</div>
<div id="content">
	
 <h2>
     <a name="top">Frequently Asked Questions</a>
  </h2>

  <h3>Logback project</h3>

   <ol type="1">
    <li><a href="#why_lgpl">Why is logback distributed under LGPL and
    not the Apache Software License?</a>
    </li>
   </ol>
  
                      
  <h3>Logback Classic</h3>

  
  <ol type="1">
    <li>
      <a href="#setup_jetty">
        How can I use logback-classic with Jetty ?
              </a>
    </li>
    <li>
      <a href="#auto_config">
        How does the automatic configuration work?
      </a>
    </li>
    <li>
      <a href="#intercept_calls_tomcat">
        How can I intercept JCL calls in Tomcat?
      </a>
    </li>
    <li>
      <a href="#intercept_calls_jetty">
        How can I intercept JCL calls in Jetty ?
      </a>
    </li>
  </ol>
        
  <div class="section">
    <h2>Logback project</h2>
    
    <dl>
      <dt> <a name="why_lgpl">Why is logback distributed under LGPL and
    not the Apache Software License?</a>
      </dt>

      <dd>
        <p>The logback project is distributed under the LGPL license
        in order to emphasize the fact that it is a related but
        <em>different</em> project than log4j.
        </p>
        
        <p>Given that Java v7 will be distributed under GPL, we expect
        GPL and LGPL to become even more prevalent in the Java world.
        </p>

        <p>In short, LGPL is a reasonable and widely-accepted
        license. Let well alone.
        </p>
      </dd>
    </dl>
  </div>
  <div class="section">
    <h2>Logback-classic</h2>
    <dl>
      <dt>
        <a name="setup_jetty">
          How can I use logback-classic with Jetty ?
        </a>
      </dt>
      <dd>
        <p>The Jetty application server uses SLF4J for its internal
        logging. Here are the required steps to install logback as
        SLF4J's underlaying implementation.
        </p>

        <p>A few jars must be present in the <em>JETTY_HOME/lib</em>
        directory.
        </p>

        <p>Logback-classic is based on the SLF4J api. Therefore, the
        <em>slf4j-api-VERSION.jar</em> jar must be present. This jar
        can be downloaded from the <a
        href="http://www.slf4j.org/">SLF4J</a> project.
        </p>
        <p>Logback's own jars must also be present, namely
        <em>logback-core-VERSION.jar</em> and
        <em>logback-classic-VERSION.jar</em> .
        </p>

        <p> To configure logback-classic, a file called
        <em>logback.xml</em> should be placed in the
        <em>JETTY_HOME/resources</em> directory. You can find
        configuration samples in the
        <em>examples/src/chapter4/conf/</em> directory, in the
        distribution of logback.
        </p>
        
        <table border="0">
          <tr>
            <td align="right">
              <a href="#top">[top]</a>
            </td>
          </tr>
        </table>
        <hr />
      </dd>
      <dt>
        <a name="auto_config">
          How does the automatic configuration work?
        </a>
      </dt>
      <dd>
        <p>This question is answered in the <a
        href="manual/joran.html#auto_configuration">relevant
        section</a> of the logback manual.
        </p>
        <table border="0">
          <tr>
            <td align="right">
              <a href="#top">[top]</a>
            </td>
                </tr>
        </table>
        <hr />
      </dd>
      <dt>
        <a name="intercept_calls_tomcat">
          How can I intercept JCL calls in Tomcat?
        </a>
      </dt>
      <dd>
        <p>When a dependency of your webapp logs using Jakarta Commons
        Logging (for example Struts), you can intercept these calls
        and redirect them to logback.
        </p>
        <p>This can be done by using <em>jcl104-over-slf4j.jar</em> ,
        a module that is shipped with <a
        href="http://www.slf4j.org">SLF4J</a> .
        </p>
        <p>If you have only one webapp, its <em>WEB-INF/lib</em>
        directory should already contain the logback jars, namely
        <em>logback-core-VERSION.jar</em> ,
        <em>logback-classic-VERSION.jar</em> and
        <em>slf4j-api-VERSION.jar</em> . A logback configuration file,
        named <em>logback.xml</em> should be placed in the
        <em>WEB-INF/classes/</em> directory.
        </p>
        <p>You now need to add <code>jcl104-over-slf4j.jar</code> to
        your <em>WEB-INF/lib</em> directory and remove
        <code>commons-logging-1.0.4.jar</code> . The logging that used
        to be directed to JCL should now be handled by logback.
        </p>

        <p>In case several webapps share the logback jars, you might
        place the previously mentionned jars in the
        <em>common/lib/</em> directory of your Tomcat
        installation. The <em>logback.xml</em> file should then be
        placed in <em>common/classes</em> .
        </p>
        <table border="0">
          <tr>
            <td align="right">
              <a href="#top">[top]</a>
            </td>
          </tr>
        </table>
        <hr />
      </dd>
      <dt>
        <a name="intercept_calls_jetty">
          How can I intercept JCL calls in Jetty ?
        </a>
      </dt>
      <dd>
        <p>Using logback as the logging implementation of choice for
        frameworks depending on JCL can also be done in Jetty.
        </p>
        <p>In case you have only one webapp, the required steps are
        exactly the same as <a href="#intercept_calls_tomcat">those
        needed in Tomcat</a>.
        </p>
        <p>In case several webapps share the logback jars, you might
        place the necessary jars in the <em>lib/</em> directory of
        your Jetty installation. The <em>logback.xml</em> file should
        then be placed in the <em>resources/</em> directory.
        </p>
        <p>However, due to <a
        href="http://docs.codehaus.org/display/JETTY/Classloading">
        Jetty's internal Classloading mechanism</a>, the
        <em>logback-classic-VERSION.jar</em> and
        <em>slf4j-api-VERSION.jar</em> files should also be placed in
        the <em>WEB-INF/lib/</em> directory of your webapps.
        </p>
        <table border="0">
          <tr>
            <td align="right">
              <a href="#top">[top]</a>
            </td>
          </tr>
        </table>
      </dd>
    </dl>
  </div>
</div>
  

	
<script src="templates/footer.js"></script>
</div>
</body>
</html>
